
# H48: Using ol, ul and dl for lists or groups of links (HTML)

Mentioned in tests: [definitionListsAreUsed](https://github.com/quailjs/quail/blob/2.2.15/src/js/custom/definitionListsAreUsed.js), [documentVisualListsAreMarkedUp](https://github.com/quailjs/quail/blob/2.2.15/src/js/custom/documentVisualListsAreMarkedUp.js), [listOfLinksUseList](https://github.com/quailjs/quail/blob/2.2.15/src/js/custom/listOfLinksUseList.js)

WCAG 2 [overview](http://www.w3.org/TR/2015/NOTE-WCAG20-TECHS-20150226/H48).

## Problems:

## Room For Improvement:

* `useSemanticLists` (**new assessment**)
	1. Rationale: In CKE we're working with HTML, so we should prefer semantic markup over plain text. Sometimes end-users tries to mimic list a with plain text.
	1. Example:
		* [Warsaw Municipalities](http://bezpieczna.um.warszawa.pl/zarzadzanie-kryzysowe?utm_source=um&utm_medium=www&utm_campaign=top-menu#) - See how "1) kierowanie monitorowaniem" is used as a plain text.
		* [Government of Sweden](http://www.government.se/sb/d/19505/a/253978) &quot;1. \nThe first challenge&quot;
		* [Some major Norway entity](http://forbrukereuropa.no/en/campaign/222-chargeback-in-the-eu-eea) that I've found linked in [Norway Gov webpage](https://www.regjeringen.no/en/topics/consumers/id214/) (in resources section)
		* [French diplomacy](http://www.diplomatie.gouv.fr/en/french-overseas/) (e.g. seciton "Pedagogical project")
	1. Testability: `0.5`
	1. Implementation:
		1. "ordered lists"
			1. Find all sectioning elements (or paragraph or whatever).
			1. Get its `innerText` (or textContent in FF, but then it does not convert br to new line).
			1. Perform a regexp that will look for strings like: `1) foo \n+ 2, bar`.
		1. "unordered lists" - we must remember that someone might use `<img>` as bullets, followed by whitespace (possibly `&nbsp;`).
			1. Find all sectioning elements (or paragraph or whatever).
			1. Check if the first `childElement` is an `img` element (preferably [decorative](http://www.w3.org/TR/2006/WD-WCAG20-20060427/appendixA.html#puredecdef) image - so empty or missing `alt` attr).
			1. Check if next sectioning element begins with `img` with the same `src` attribute.
	1. Provide a Quick Fix that would convert it into an (un)ordered list.
	1. We would neet to take care of both ordered, and unordered lists.
	1. This is somehow covered by the `documentVisualListsAreMarkedUp`, so we might think about improving it instead.
* `listOfLinksUseList`
	1. I don't like the way it returns errors. It reports erros for every `a` elem, except for the last one. It would be good to reduce it only to one occurence.
	1. It might be broken if the links are separated by an element, rather by just text nodes. We might change that.
	1. We might add some more characters to the `unreadableText` regexp, like `&raquo;`. `&gt;`, `&dash;`, `&mdash;`, `&vert;`.
* `documentVisualListsAreMarkedUp`
	1. Has a poor regexp used. See [tests fail](https://github.com/cksource/quail/tree/testsFail/documentVisualListsAreMarkedUp) demo branch.
* `definitionListsAreUsed`
	* To include it we'd need `dl,dt,dd` in our ACF (ofc customer can do it by himself).
	* Interesting cases:
		* [French diplomacy in Ukraine conflict](http://www.diplomatie.gouv.fr/en/country-files/ukraine/situation-in-ukraine-what-is/).
		<br>Look at section "A method: firmness and dialogue". You can see it defines two strategies: Firmness and Dialogue. These might be used within `dl` element.
			* This case might look like hard to test. But we can strip following pattern: `\s*<img alt="">\s*(...)` so we would ignore **decorative** images, and then see if there is a strong/bold whatever followed with text.
		* [Official France website](http://www.france.fr/en/gastronomy/large-family-french-cheeses.html) - Quail already handles this test **correctly**!
		<br>Look at both "Pressed cheeses" and "Soft cheeses".